let TG_BOT_TOKEN="";let TG_CHAT_ID="";let HX_SINGIN_URL="https://sign.hongxing.one/sign";let HX_EMAIL="";let HX_PSD="";async function signIn(){const t=await fetch(HX_SINGIN_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:HX_EMAIL,password:HX_PSD})});let n="";if(t.ok){const s=await t.json();let e=s.data;if(e.code===200){n=`æ­å–œè·å¾— ${bytesToMB(e.bytes)}MB æµé‡ï¼`}else{n=e.mag}}else{n=`ç­¾åˆ°æ¥å£å¼‚å¸¸!`}if(TG_BOT_TOKEN&&TG_CHAT_ID){await sendTelegramMessage(`ğŸ‰çº¢æåŠ é€Ÿå™¨ç­¾åˆ°è„šæœ¬ğŸ‰\n\né‚®ç®±ï¼š${HX_EMAIL}\n\n${n}`)}return n}async function sendTelegramMessage(e){const t=`https://api.telegram.org/bot${TG_BOT_TOKEN}/sendMessage`;const n={chat_id:TG_CHAT_ID,text:e,parse_mode:"Markdown",reply_markup:{inline_keyboard:[[{text:"é—®é¢˜åé¦ˆâ“",url:"https://t.me/yxjsjl"}]]}};try{const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const a=await s.text();return`æ¶ˆæ¯å‘é€å¤±è´¥ï¼${a}`}return"æ¶ˆæ¯å‘é€æˆåŠŸï¼"}catch(e){return`æ¶ˆæ¯å‘é€å¼‚å¸¸ï¼${JSON.stringify(e)}`}}function bytesToMB(e){const t=e/(1024*1024);return t.toFixed(2)}async function handleRequest(e){TG_BOT_TOKEN=e.TG_BOT_TOKEN;TG_CHAT_ID=e.TG_CHAT_ID;HX_EMAIL=e.HX_EMAIL;HX_PSD=e.HX_PSD;try{if(!HX_EMAIL||!HX_PSD){return new Response("è¯·åœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®é‚®ç®±å’Œå¯†ç ï¼",{status:400})}else{await signIn()}}catch(e){await sendTelegramMessage("ç­¾åˆ°æ—¶å‘ç”Ÿé”™è¯¯ï¼š"+e.message)}}export default{async scheduled(e,t,n){await handleRequest(t)},async fetch(e,t){return new Response("çœ‹æˆ‘å¹²å˜›ï¼ï¼ï¼")}};
